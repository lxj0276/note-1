<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
           http://www.springframework.org/schema/aop 
           http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">
  	<!-- 
  		导入springaop的命名空间
  			xmlns:aop="http://www.springframework.org/schema/aop"
  			http://www.springframework.org/schema/aop 
            http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
  	 -->
  	 <!-- 
  	 	导入目标类、切面
  	  -->
  	 <bean id="personDao" class="com.itheima10.spring.aop.xml.PersonDaoImpl"></bean>
  	 <bean id="transaction" class="com.itheima10.spring.aop.xml.Transaction"></bean>
  	 <aop:config>
  	 	<!-- 
  	 		expression 切入点表达式     定位哪些类要产生代理类
  	 		id为标示符
  	 	 -->
  	 	<aop:pointcut 
  	 		expression="execution(* com.itheima10.spring.aop.xml.PersonDaoImpl.*(..))" 
  	 		id="perform"/>
  	 	<!-- 
  	 		aspect  切面
  	 		  ref 指向切面类
  	 	 -->
  	 	<aop:aspect ref="transaction">
  	 		<!-- 
  	 			前置通知   在目标方法执行之前
  	 			method  前置通知
  	 			pointcut-ref  指向切入点
  	 		 -->
  	 		<aop:before method="beginTransaction" pointcut-ref="perform"/>
  	 		<!-- 
  	 			后置通知
  	 		 -->
  	 		<aop:after-returning method="commit" pointcut-ref="perform"/>
  	 	</aop:aspect>
  	 </aop:config>
</beans>