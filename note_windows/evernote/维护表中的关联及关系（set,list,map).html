<html>
<head>
  <title>维护表中的关联及关系（set,list,map)</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="3223"/>
<h1>维护表中的关联及关系（set,list,map)</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/8/5 16:35</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/8/5 16:35</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#configuration-sessionfactory"><i>http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/#configuration-sessionfactory</i></a></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p><strong>Example 7.6. Elements of the &lt;map&gt; mapping</strong></p><div><pre>
&lt;map
    name=&quot;propertyName&quot;                                    <img alt="(1)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/1.png" style="cursor: default;"></img>
    table=&quot;table_name&quot;                                     <img alt="(2)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/2.png" style="cursor: default;"></img>
    schema=&quot;schema_name&quot;                                   <img alt="(3)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/3.png" style="cursor: default;"></img>
    lazy=&quot;true|extra|false&quot;                                <img alt="(4)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/4.png" style="cursor: default;"></img>
    inverse=&quot;true|false&quot;                                   <img alt="(5)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/5.png" style="cursor: default;"></img>
    cascade=&quot;all|none|save-update|delete|all-delete-orphan|<img alt="(6)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/6.png" style="cursor: default;"></img>delete-orphan&quot;
    sort=&quot;unsorted|natural|comparatorClass&quot;                <img alt="(7)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/7.png" style="cursor: default;"></img>
    order-by=&quot;column_name asc|desc&quot;                        <img alt="(8)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/8.png" style="cursor: default;"></img>
    where=&quot;arbitrary sql where condition&quot;                  <img alt="(9)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/9.png" style="cursor: default;"></img>
    fetch=&quot;join|select|subselect&quot;                          <img alt="(10)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/10.png" style="cursor: default;"></img>
    batch-size=&quot;N&quot;                                         <img alt="(11)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/11.png" style="cursor: default;"></img>
    access=&quot;field|property|ClassName&quot;                      <img alt="(12)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/12.png" style="cursor: default;"></img>
    optimistic-lock=&quot;true|false&quot;                           <img alt="(13)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/13.png" style="cursor: default;"></img>
    mutable=&quot;true|false&quot;                                   <img alt="(14)" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/14.png" style="cursor: default;"></img>
    node=&quot;element-name|.&quot;
    embed-xml=&quot;true|false&quot;
&gt;

    &lt;key .... /&gt;
    &lt;map-key .... /&gt;
    &lt;element .... /&gt;
&lt;/map&gt;
</pre><div><table border="0" summary="Callout list"><tbody><tr><td align="left" valign="top" width="5%"><p><img alt="1" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/1.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>name</code>: the collection property name</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="2" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/2.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>table</code> (optional - defaults to property name): the name of the collection table. It is not used for one-to-many associations.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="3" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/3.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>schema</code> (optional): the name of a table schema to override the schema declared on the root element</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="4" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/4.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>lazy</code> (optional - defaults to <code>true</code>): disables lazy fetching and specifies that the association is always eagerly fetched. It can also be used to enable &quot;extra-lazy&quot; fetching where most operations do not initialize the collection. This is suitable for large collections.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="5" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/5.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>inverse</code> (optional - defaults to <code>false</code>): marks this collection as the &quot;inverse&quot; end of a bidirectional association.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="6" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/6.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>cascade</code> (optional - defaults to <code>none</code>): enables operations to cascade to child entities.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="7" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/7.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>sort</code> (optional): specifies a sorted collection with <code>natural</code> sort order or a given comparator class.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="8" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/8.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>order-by</code> (optional): specifies a table column or columns that define the iteration order of the <code>Map</code>, <code>Set</code> or bag, together with an optional <code>asc</code> or <code>desc</code>.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="9" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/9.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>where</code> (optional): specifies an arbitrary SQL <code>WHERE</code> condition that is used when retrieving or removing the collection. This is useful if the collection needs to contain only a subset of the available data.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="10" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/10.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>fetch</code> (optional, defaults to <code>select</code>): chooses between outer-join fetching, fetching by sequential select, and fetching by sequential subselect.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="11" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/11.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>batch-size</code> (optional, defaults to <code>1</code>): specifies a &quot;batch size&quot; for lazily fetching instances of this collection.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="12" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/12.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>access</code> (optional - defaults to <code>property</code>): the strategy Hibernate uses for accessing the collection property value.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="13" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/13.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>optimistic-lock</code> (optional - defaults to <code>true</code>): specifies that changes to the state of the collection results in increments of the owning entity's version. For one-to-many associations you may want to disable this setting.</p></td></tr><tr><td align="left" valign="top" width="5%"><p><img alt="14" border="0" src="http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html_single/images/callouts/14.png" style="cursor: default;"></img></p></td><td align="left" valign="top"><p><code>mutable</code> (optional - defaults to <code>true</code>): a value of <code>false</code> specifies that the elements of the collection never change. This allows for minor performance optimization in some cases.</p></td></tr></tbody></table></div></div></div>
</div></body></html> 