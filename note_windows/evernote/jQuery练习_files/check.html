<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>check.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
	<script language="JavaScript"  src="js/jquery-1.4.2.js"></script>
  </head>
  <script type="application/javascript">
  		$().ready(function(){
			/**
			 * 全选按钮的实现
			 */
			$("#checkall").click(function(){
				$("input[type='checkbox']").each(function(){
					$(this).attr("checked",true);
				});
			});
			/**
			 * 全不选按钮的实现
			 */
			$("#checkallNo").click(function(){
				$("input[type='checkbox']").each(function(){
//					$(this).removeAttr("checked");
					$(this).attr("checked","");
				})
			});
			/**
			 * 反选按钮的实现
			 */
			$("#check_revsern").click(function(){
				//count用于统计有多少选中的，第一种方法实现全选/全不选按钮与checkbox的选项的配合
				var count = 0;
				$("input[name='items']").each(function(){
					//如果是选中的，则让其不选中
					if ($(this).attr("checked")) 
						$(this).removeAttr("checked");
				
					else {
						$(this).attr("checked", "checked");
						count++;
					}
				});
				//当count==所有的选项长度时，把全选/全部选复选框选中；否则，让其不选中
				if(count==$("input[name='items']").length)
					$("input[name='checkItems']").attr("checked",true);
				else	
					$("input[name='checkItems']").attr("checked","");
			});
			/**
			 * 全选/全部选复选框的实现
			 */
			$("#checkItems").click(function(){
				if ($(this).attr("checked")){
						$("input[type='checkbox']").each(function(){
						$(this).attr("checked",true);
					});
				}else{
					$("input[type='checkbox']").each(function(){
//						$(this).removeAttr("checked");
						$(this).attr("checked","");
					});
				}
			});
			/**
			 * 全选/全不选按钮与checkbox的选项的配合
			 */
			
			$("input[name='items']").click(function(){
			/*	//另一种实现全选/全不选按钮与checkbox的选项的配合
				var  flag = true;
				$("input[name='items']").each(function(){
					if (!$(this).attr("checked")) {
						//如果有一个选项没有被选中，则把全选/全不选按钮置为不选中
						$("input[name='checkItems']").attr("checked", "");
						//如果有一个没有被选中，则把flag置为false
						flag=false;
						return;
					}
				});
				//如果flag是true，则说明所有的选项都被选中，则把全选/全不选按钮置为选中
				if(flag)
					$("input[name='checkItems']").attr("checked", true);
			*/
			
			//实现全选/全不选按钮与checkbox的选项的配合
			if($("input[name='items']:not(:checked)").length>0){//说明有未被选中的
				$("#checkItems").attr("checked",false);
			}else{//全部被选中
				$("#checkItems").attr("checked",true);
			}
			})
		});
  </script>
  <body>
	  	您的爱好很广泛!!!
	  	 <br>
		 <input type="checkbox" name="checkItems"  id="checkItems" value="全选/全不选"/>全选/全不选
		 <br>
        <input type="checkbox" name="items" value="足球" />足球
		<input type="checkbox" name="items" value="篮球"/>篮球
		<input type="checkbox" name="items" value="游泳"/>游泳
		<input type="checkbox" name="items" value="唱歌"/>唱歌
		<br>
		<input type="button" name="checkall" id="checkall" value="全选" />
		<input type="button" name="checkall" id="checkallNo" value="全不选" />
		<input type="button" name="checkall" id="check_revsern" value="反选" />
  </body>
</html>

