<html>
<head>
  <title>内部类</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="2526"/>
<h1>内部类</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/7/30 2:54</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/8/14 19:44</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://www.cnblogs.com/silence250627170/archive/2011/11/29/thinkinginjava.html"><i>http://www.cnblogs.com/silence250627170/archive/2011/11/29/thinkinginjava.html</i></a></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 19px;">内部类分为：成员内部类、局部内部类、静态内部类、匿名内部类。</div><div><p style="margin-bottom: 0pt; margin-top: 0pt; font-size: 19px;"><b><span style="color: rgb(94, 94, 94); font-family: Verdana;">java<font face="宋体">中的内部类和接口加在一起，</font></span><span style="color: rgb(94, 94, 94); font-family: Verdana;">可以很好的实现多继承的效果。</span></b></p></div><div><p style="margin-bottom: 4.2pt; margin-top: 4.2pt; font-size: 19px;"><span style="color: rgb(94, 94, 94); font-family: Verdana;">1.<font face="宋体">一个内部类的对象能够访问创建它的对象的实现，包括私有数据。</font></span><span style="color: rgb(94, 94, 94); font-family: Verdana;"><br/></span><span style="color: rgb(94, 94, 94); font-family: Verdana;">2.<font face="宋体">对于同一个包中的其他类来说，内部类能够隐藏起来。</font></span><span style="color: rgb(94, 94, 94); font-family: Verdana;"><br/></span><span style="color: rgb(94, 94, 94); font-family: Verdana;">3.<font face="宋体">匿名内部类可以很方便的定义回调。</font></span><span style="color: rgb(94, 94, 94); font-family: Verdana;"><br/></span><span style="color: rgb(94, 94, 94); font-family: Verdana;">4.<font face="宋体">使用内部类可以非常方便的编写事件驱动程序。</font></span></p></div><p style="font-size: 16px;"><b><font color="#FF0000">a，成员内部类</font></b><br/><span style="color: rgb(128, 128, 128);">作为外部类的一个成员存在，与外部类的属性、方法并列。</span><br/><span style="color: rgb(128, 128, 128);">优点：</span><br/><span style="color: rgb(128, 128, 128);">1、内部类作为外部类的成员，可以访问外部类的私有成员或属性。（即使声明为private，但是对于处于其内部的内部类还是可见的。）</span><br/><span style="color: rgb(128, 128, 128);">2、可以内部类定义在外部类不可访问的属性。这样就在外部类中实现了比外部类private还要小的额访问权限。</span><br/><span style="color: rgb(128, 128, 128);">注意：</span><br/><span style="color: rgb(128, 128, 128);">1、内部类是一个编译时的概念，一旦编译成功，就会成为完全不同的两个类。</span><br/><span style="color: rgb(128, 128, 128);">对于一个名为Outer的外部类和其内部定义的名为Inner的内部类。编译完成后出现Outer.class 和 Outer$Inner.class 两个类</span><br/><span style="color: rgb(128, 128, 128);">2、当Outer是一个private类时，外部类对于其外部访问是私有的，所以就无法建立外部类对象，进而也无法建立内部类对象。</span></p><p style="font-size: 16px;"><font color="#FF0000"><b>b,局部内部类</b></font><br/><span style="color: rgb(128, 128, 128);">在方法中定义的内部类称为局部内部类。</span><br/><span style="color: rgb(128, 128, 128);">与局部变量类似，在局部内部类前不加修饰符public和private，其范围为定义它的代码块</span><br/><span style="color: rgb(128, 128, 128);">注意：</span><br/><span style="color: rgb(128, 128, 128);">1、在类外不可直接生产局部内部类（保证局部内部类对外是不可见的）。</span><br/><span style="color: rgb(128, 128, 128);">2、要想使用局部内部类时需要生产对象，对象调用方法，在方法中才能调用局部内部类。</span><br/><span style="color: rgb(128, 128, 128);">3、通过内部类和接口达到一个强制的弱耦合，用局部内部类来实现接口，并在方法中返回接口类型，使局部内部类不可见，屏蔽实现类的可见性</span>。</p><p style="font-size: 16px;"><b><font color="#FF0000">c,静态内部类 </font></b></p><p style="font-size: 16px;"><span style="color: rgb(128, 128, 128);">静态内部类可以使用public，protected，private修饰</span><br/><span style="color: rgb(128, 128, 128);">静态内部类中可以定义静态和非静态的成员</span><br/><span style="color: rgb(128, 128, 128);">注意：</span><br/><span style="color: rgb(128, 128, 128);">一个静态内部类不需要一个外部类的成员：只是静态内部类和成员内部类的区别。静态内部类的对象可以直接生成</span><br/><span style="color: rgb(128, 128, 128);">这实际上静态内部类成为了一个顶级类。</span><br/><span style="color: rgb(128, 128, 128);">静态内部类不可用private来进行定义。</span><br/><span style="color: rgb(128, 128, 128);">当类与接口（或者是接口与接口）发生方法命名冲突的时候，此时必须使用内部类来实现。用接口不能完全地实现多继承，用接口配合内部类才能实现真正的多继承。</span></p><p style="font-size: 16px;"><font color="#FF0000"><b>d,<span style="line-height: 19px;">匿名内部类 </span></b></font></p><div><br/><span style="color: rgb(128, 128, 128); font-size: 16px;">匿名内部类就是没有名字的内部类。</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">注意：</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">1、匿名内部类不能有构造函数</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">2、匿名内部类不能定义任何静态成员、方法和类</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">3、匿名内部类不能是public、protected、private、static</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">4、只能创建匿名内部类的一个实例</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">5、一个匿名内部类用其隐含实现一个接口或实现一个类。</span><br style="font-size: 16px;"/><span style="color: rgb(128, 128, 128); font-size: 16px;">6、因匿名内部类为局部内部类，所以局部内部类的所有限制都对其生效</span></div><div><span style="color: rgb(128, 128, 128);"><br/></span></div><div><font color="#808080">例子：</font></div><div><font color="#808080">1.</font></div><div><span style="mso-spacerun:'yes'; color:rgb(94,94,94); font-size:11.0000pt; font-family:'Verdana';">隐藏你不想让别人知道的操作，也即封装性。</span></div><div><p style="margin-bottom:0pt; margin-top:0pt;"><span style="mso-spacerun:'yes'; color:rgb(94,94,94); font-size:11.0000pt; font-family:'Verdana';">一个内部类对象可以访问创建它的外部类对象的内容，甚至包括私有变量！</span></p></div><div><p style="margin-bottom:4.2000pt; margin-top:4.2000pt;"></p><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>interface</b></span></font> <font face="Consolas"><span style="font-size:12pt">Contents {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>int</b></span></font> <font face="Consolas"><span style="font-size:12pt">value();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>interface</b></span></font> <font face="Consolas"><span style="font-size:12pt">Destination {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     String readLable();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div></div><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Goods {</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"> </font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>int</b></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">valueRate</span></font> <font face="Consolas"><span style="font-size:12pt">= 2;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Content</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>implements</b></span></font> <font face="Consolas"><span style="font-size:12pt">Contents{</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>int</b></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">i</span></font> <font face="Consolas"><span style="font-size:12pt">= 11;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt; background:#d4d4d4"><b>int</b></span></font> <font face="Consolas"><span style="font-size:12pt">value() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt; background:#d4d4d4"><b>return</b></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt; background:#d4d4d4">i</span></font> <font face="Consolas"><span style="font-size:12pt; background:#d4d4d4">*</span></font><font color="#0000C0" face="Consolas"><span style="font-size:12pt; background:#d4d4d4">valueRate</span></font> <font face="Consolas"><span style="font-size:12pt; background:#d4d4d4">;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>protected</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">GDestination</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>implements</b></span></font> <font face="Consolas"><span style="font-size:12pt">Destination{</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font face="Consolas"><span style="font-size:12pt">String</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">lable</span></font><font face="Consolas"><span style="font-size:12pt">;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font face="Consolas"><span style="font-size:12pt">GDestination(String lable){</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>this</b></span></font><font face="Consolas"><span style="font-size:12pt">.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">lable</span></font> <font face="Consolas"><span style="font-size:12pt">= lable;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font face="Consolas"><span style="font-size:12pt">String readLable() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">lable</span></font><font face="Consolas"><span style="font-size:12pt">;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font face="Consolas"><span style="font-size:12pt">Content getContent(){</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Content();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font face="Consolas"><span style="font-size:12pt">Destination getDestination(String lable){</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">GDestination(lable);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">main(String[] args){</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Goods gs =</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Goods();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Content c = gs.getContent();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Destination d = gs.getDestination(</span></font> <font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;beijing&quot;</span></font><font face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           System.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(c.value());</span></font> <font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">//22</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           System.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(d.readLable());</span></font> <font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">//</span><span style="font-size:12pt"><u>beijing</u></span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div><span style="color: rgb(128, 128, 128);">2.</span><span style="color: rgb(128, 128, 128);">匿名内部类看上去十分简洁。</span></div><div><font color="#808080">    </font><span style="color: rgb(94, 94, 94); font-family: Verdana; font-size: 11pt;">1. </span><font face="宋体" style="color: rgb(94, 94, 94); font-size: 11pt;">如果是在一个方法的匿名内部类，可以利用这个方法传进你想要的参数，不过记住，这些参数必须被声明为</font><font face="Verdana" style="color: rgb(94, 94, 94); font-family: Verdana; font-size: 11pt;">final</font><font face="宋体" style="color: rgb(94, 94, 94); font-size: 11pt;">。</font></div><p style="margin-bottom:4.2000pt; margin-top:4.2000pt;"><span style="mso-spacerun:'yes'; color:rgb(94,94,94); font-size:11.0000pt; font-family:'Verdana';">   2. <font face="宋体">将匿名内部类改造成有名字的局部内部类，这样它就可以拥有构造函数了。</font></span><span style="mso-spacerun:'yes'; color:rgb(94,94,94); font-size:11.0000pt; font-family:'Verdana';"><br/></span><span style="mso-spacerun:'yes'; color:rgb(94,94,94); font-size:11.0000pt; font-family:'Verdana';">   3. <font face="宋体">在这个匿名内部类中使用初始化代码块。 </font></span></p><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Good1{</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font face="Consolas"><span style="font-size:12pt">Contents getContent(){</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Contents() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>int</b></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">i</span></font> <font face="Consolas"><span style="font-size:12pt">= 10;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>int</b></span></font> <font face="Consolas"><span style="font-size:12pt">value() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                     </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">i</span></font><font face="Consolas"><span style="font-size:12pt">;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">                }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           };</span></font> <font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">//分号是语句的结束符号，把匿名内部类看做了一条语句</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">main(String[] args){</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Good1 g1 =</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Good1();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Contents c = g1.getContent();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           System.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(c.value());</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div style="font-size: 21px;"><br/></div><div style="font-size: 21px;"><b>内部类的四个应用场景：</b></div><div style="font-size: 21px;"><font color="#41AD1C"> 场景一：当某个类除了它的外部类，不再被其他的类使用时</font></div><div><span style="font-size: 21px;"> </span><span style="font-size: 19px;">public interface Pool extends TimerListener{</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        // 初始化连接池</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        public boolean init();</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        //销毁连接池</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        public void destory();</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        // 取得一个连接</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        public Connection getConn();</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        //还有一些其他的功能，这里 不再列出</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        ……</span><br style="font-size: 19px;"/><span style="font-size: 19px;">} </span></div><div style="font-size: 19px;">  </div><div style="font-size: 19px;"> public class ConnectPool implements Pool{<br/>
        // 存在Connection的数组<br/>
        private PoolConn[] poolConns;<br/>
        //连接 池的最小连接数<br/>
        private int min;<br/>
        //连接池的最大连接数<br/>
        private int max;<br/>
        // 一个连接的最大使用次数<br/>
        private int maxUseCount;<br/>
        //一个连接的最大空闲时间<br/>
        private long maxTimeout;<br/>
        // 同一时间的Connection最大使用个数<br/>
        private int maxConns;<br/>
        //定时器<br/>
        private Timer timer;<br/>
        public boolean init(){<br/>
               try  {<br/>
                      ……<br/>
                      this.poolConns = new PoolConn[this.min];<br/>
                      for(int i=0;i&lt;this.min;i++){<br/>
                             PoolConn poolConn = new PoolConn();<br/>
                             poolConn.conn = ConnectionManager.getConnection();<br/>
                             poolConn.isUse = false;<br/>
                             poolConn.lastAccess = new Date().getTime();<br/>
                             poolConn.useCount = 0;<br/>
                             this.poolConns[i] = poolConn;<br/></div><blockquote style="margin: 0px 0px 0px 40px; border: none; padding: 0px; font-size: 19px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>}</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>……</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div>return true;</div></blockquote></blockquote><span style="font-size: 19px;">               }</span><br style="font-size: 19px;"/><span style="font-size: 19px;">               catch(Exception e)</span><span style="font-size: 19px;"> {</span><br style="font-size: 19px;"/><span style="font-size: 19px;">                      return false;</span><br style="font-size: 19px;"/><div style="font-size: 19px;">               }</div><div style="font-size: 19px;"><br/></div><div><span style="font-size: 19px;">               //内部类，只给本类使用</span></div><div style="font-size: 19px;">               private class PoolConn{</div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        private Connection conn;</div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        //下边三个位connection的标志</div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        private boolean isUse;</div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        private long lastAccess;</div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        private int useCount;</div></div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        ……</div></div></blockquote></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"><div>        }</div></div></blockquote><div style="font-size: 19px;"><br/></div><div><span style="font-size: 19px;">     } </span></div><div style="font-size: 19px;">}</div><div style="font-size: 24px;"><b> <font color="#41AD1C">场 景二：解决一些非面向对象的语句块： 这些语句块包括if…else if…else语句，case语句，等等。</font> </b></div><div style="font-size: 19px;"> public interface DataManager<br/>
{<br/>
        public void manageData();<br/>
}</div><div style="font-size: 19px;"> </div><div style="font-size: 19px;"> public class DataTemplate<br/>
{<br/>
        public void execute(DataManager dm)<br/>
        {<br/>
               try<br/>
               {<br/>
                      dm.manageData();<br/></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">}</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">catch(Exception e)</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">{</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">       LoggerAgent.error(&quot;GetHeaderData&quot;, &quot;getDivisionData&quot;,</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">                        &quot;SQLException: &quot; + e);</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">       e.printStackTrace() ;</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;"> </div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">}finally</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">{</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">       manager.close(stmt);</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">       manager.releaseConnection(conn);</div></blockquote><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="font-size: 19px;">}</div></blockquote></blockquote><div><span style="font-size: 19px;">     }</span><br/><span style="font-size: 19px;">} </span></div><div><span style="font-size: 19px;"><br/></span></div><div style="font-size: 21px;"><font color="#41AD1C"> 场 景之三：一些多算法场合</font></div><div><br/></div><div style="font-size: 19px;"> public interface SortAlgor</div><span style="font-size: 19px;">{</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        public void sort(int[] is);</span><br style="font-size: 19px;"/><span style="font-size: 19px;">}</span><div><br style="font-size: 19px;"/><span style="font-size: 19px;">public void printSortedArray(int[] is,SortAlgor sa)</span><br style="font-size: 19px;"/><span style="font-size: 19px;">{</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        ……</span><br style="font-size: 19px;"/><span style="font-size: 19px;">       sa.sort(is);</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        for(int i=0;i&lt;is.length;i++)</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        {</span><br style="font-size: 19px;"/><span style="font-size: 19px;">               System.out.print(is[i]+” “);</span><br style="font-size: 19px;"/></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="font-size: 19px;">}</span></div><div><span style="font-size: 19px;">System.out.println();</span></div></blockquote><div><span style="font-size: 19px;">} </span></div><div><span style="font-size: 19px;"><br/></span></div><div> <span style="font-size: 19px;">客 户端对上面方法的使用如下：</span></div><div><br style="font-size: 19px;"/><span style="font-size: 19px;">int[] is = new int[]{3,1,4,9,2};</span><br style="font-size: 19px;"/><span style="font-size: 19px;">printSortedArray(is,new SortAlgor()</span><br style="font-size: 19px;"/><span style="font-size: 19px;">{</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        public void sort(is)</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        {</span><br style="font-size: 19px;"/><span style="font-size: 19px;">               ...</span><br style="font-size: 19px;"/><span style="font-size: 19px;">        </span><span style="font-size: 19px;">}</span></div><div><span style="font-size: 19px;">}); </span></div><div><span style="font-size: 19px;"><br/></span></div><div style="font-size: 21px;"><font color="#41AD1C"> 场 景之四：适当使用内部类，使得代码更加灵活和富有扩展性</font></div><div><span style="font-size: 21px;"> </span><span style="font-size: 19px;">将具体的工厂类交由具体类的创建者来实现，这样，工厂类和具体类的依赖的问题就得到了解决。而工厂的使用者则调用抽象的工厂 来获得具体类的对象。</span></div><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>interface</b></span></font> <font face="Consolas"><span style="font-size:12pt">Shape {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">draw();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">erase();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>abstract</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">ShapeFactory {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>protected</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>abstract</b></span></font> <font face="Consolas"><span style="font-size:12pt">Shape create();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font face="Consolas"><span style="font-size:12pt"><u>Map</u></span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>factories</i></span></font> <font face="Consolas"><span style="font-size:12pt">=</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt"><u>HashMap</u></span> <span style="font-size:12pt">();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">addFactory(String id,ShapeFactory f)</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           </span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i><u>factories</u></i></span></font><font face="Consolas"><span style="font-size:12pt"><u>.put(id,f)</u></span><span style="font-size:12pt">;</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>final</b></span></font> <font face="Consolas"><span style="font-size:12pt">Shape createShape(String id)</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">      </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>if</b></span></font><font face="Consolas"><span style="font-size:12pt">(!</span></font><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>factories</i></span></font><font face="Consolas"><span style="font-size:12pt">.containsKey(id))</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">          </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>try</b></span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">             String shapeFactory =</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>factories</i></span></font><font face="Consolas"><span style="font-size:12pt">.get(id).toString();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">              Class.</span> <span style="font-size:12pt"><i>forName</i></span><span style="font-size:12pt">(shapeFactory);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">          </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>catch</b></span></font><font face="Consolas"><span style="font-size:12pt">(ClassNotFoundException e)</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">             </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>throw</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">RuntimeException(</span></font> <font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;Bad shape creation : &quot;</span></font><font face="Consolas"><span style="font-size:12pt">+id);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">       </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font face="Consolas"><span style="font-size:12pt">((ShapeFactory)</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>factories</i></span></font><font face="Consolas"><span style="font-size:12pt">.get(id)).create();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Circle</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>implements</b></span></font> <font face="Consolas"><span style="font-size:12pt">Shape {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">draw() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">         System.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(</span></font> <font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;the circle is drawing...&quot;</span></font><font face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">erase() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">         System.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(</span></font> <font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;the circle is erasing...&quot;</span></font><font face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Factory</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>extends</b></span></font> <font face="Consolas"><span style="font-size:12pt">ShapeFactory</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">      </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>protected</b></span></font> <font face="Consolas"><span style="font-size:12pt; background:#d4d4d4">Shape</span> <span style="font-size:12pt">create()</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">              </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt; background:#d4d4d4"><b>return</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt; background:#d4d4d4"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt; background:#d4d4d4">Circle();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font face="Consolas"><span style="font-size:12pt">{ShapeFactory.</span> <span style="font-size:12pt"><i>addFactory</i></span><span style="font-size:12pt">(</span></font><font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;Circle&quot;</span></font><font face="Consolas"><span style="font-size:12pt">,</span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Factory());}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt"> </span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Square</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>implements</b></span></font> <font face="Consolas"><span style="font-size:12pt">Shape {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">draw() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">       System.</span></font><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(</span></font><font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;the square is drawing...&quot;</span></font><font face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">erase() {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">       System.</span></font><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><i>out</i></span></font><font face="Consolas"><span style="font-size:12pt">.println(</span></font><font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;the square is erasing...&quot;</span></font><font face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>private</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">Factory</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>extends</b></span></font> <font face="Consolas"><span style="font-size:12pt">ShapeFactory</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">      </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>protected</b></span></font> <font face="Consolas"><span style="font-size:12pt">Shape create()</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">          </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Square();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font face="Consolas"><span style="font-size:12pt">{ShapeFactory.</span> <span style="font-size:12pt"><i>addFactory</i></span><span style="font-size:12pt">(</span></font><font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;Square&quot;</span></font><font face="Consolas"><span style="font-size:12pt">,</span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Factory());}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><div align="left"><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>class</b></span></font> <font face="Consolas"><span style="font-size:12pt">TestShapeFactory {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     </span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>static</b></span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>void</b></span></font> <font face="Consolas"><span style="font-size:12pt">main(String[] args) {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Square</span> <span style="font-size:12pt"><u>s</u></span> <span style="font-size:12pt">=</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Square();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Circle</span> <span style="font-size:12pt"><u>c</u></span> <span style="font-size:12pt">=</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">Circle();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           String[] ids =</span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>new</b></span></font> <font face="Consolas"><span style="font-size:12pt">String[]{</span></font> <font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;Circle&quot;</span></font><font face="Consolas"><span style="font-size:12pt">,</span></font> <font color="#2A00FF" face="Consolas"><span style="font-size:12pt">&quot;Square&quot;</span></font><font face="Consolas"><span style="font-size:12pt">};</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">       </span></font> <font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>for</b></span></font><font face="Consolas"><span style="font-size:12pt">(</span></font><font color="#7F0055" face="Consolas"><span style="font-size:12pt"><b>int</b></span></font> <font face="Consolas"><span style="font-size:12pt">i=0;i&lt;ids.</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt">length</span></font><font face="Consolas"><span style="font-size:12pt">;i++)</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        {</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           Shape shape = ShapeFactory.</span> <span style="font-size:12pt"><i>createShape</i></span><span style="font-size:12pt">(ids[i]);</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">          </span> <span style="font-size:12pt"><u>shape</u></span><span style="font-size:12pt">.draw();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">           shape.erase();</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">        }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">     }</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">}</span></font></div></div></div></div></div><div><span style="font-size: 19px;"><br/></span></div></div>
</div></body></html> 