<html>
<head>
  <title>DOM4J</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="5703"/>
<h1>DOM4J</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/8/20 21:14</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/8/20 21:14</i></td></tr>
<tr><td><b>标签：</b></td><td><i>Dom4j, DOM解析</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="about:blank"><i>about:blank</i></a></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><span style="font-family: 微软雅黑; font-size: 14px;">1、DOM4J简介</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    DOM4J是 dom4j.org 出品的一个开源 XML 解析包。DOM4J应用于 Java 平台，采用了 Java 集合框架并完全支持 DOM，SAX 和 JAXP。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    DOM4J 使用起来非常简单。只要你了解基本的 XML-DOM 模型，就能使用。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    Dom：把整个文档作为一个对象。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        DOM4J 最大的特色是使用大量的接口。它的主要接口都在org.dom4j里面定义：Attribute定义了 XML 的属性。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Branch</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        指能够包含子节点的节点。如XML元素(Element)和文档(Docuemnts)定义了一个公共的行为</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">CDATA</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义了 XML CDATA 区域</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">CharacterData</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        是一个标识接口，标识基于字符的节点。如CDATA，Comment, Text.</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Comment</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义了 XML 注释的行为</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义了XML 文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">DocumentType</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义 XML DOCTYPE 声明</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义XML 元素</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ElementHandler</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义了Element 对象的处理器</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ElementPath</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        被 ElementHandler 使用，用于取得当前正在处理的路径层次信息</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Entity</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义 XML entity</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Node</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        为dom4j中所有的XML节点定义了多态行为</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">NodeFilter</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义了在dom4j 节点中产生的一个滤镜或谓词的行为（predicate）</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ProcessingInstruction</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义 XML 处理指令</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Text</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        定义 XML 文本节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Visitor</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        用于实现 Visitor模式</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">XPath</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        在分析一个字符串后会提供一个 XPath 表达式</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">接口之间的继承关系如下：</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">interface java.lang.Cloneable</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    interface org.dom4j.Node</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">           interface org.dom4j.Attribute</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">           interface org.dom4j.Branch</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                  interface org.dom4j.Document</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                  interface org.dom4j.Element</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">           interface org.dom4j.CharacterData</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                  interface org.dom4j.CDATA</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                  interface org.dom4j.Comment</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                  interface org.dom4j.Text</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">           interface org.dom4j.DocumentType</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">           interface org.dom4j.Entity</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">           interface org.dom4j.ProcessingInstruction</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2、XML文档操作1</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.1、读取XML文档：</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">     读写XML文档主要依赖于org.dom4j.io包，有DOMReader和SAXReader两种方式。因为利用了相同的接口，它们的调用方式是一样的。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public static Document load(String filename) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document document = null;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">SAXReader saxReader = new SAXReader();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">document = saxReader.read(new File(filename));  //读取XML文件,获得document对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">} catch (Exception ex) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ex.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">return document;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}   </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">或</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public static Document load(URL url) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document document = null;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">SAXReader saxReader = new SAXReader();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">document = saxReader.read(url);  //读取XML文件,获得document对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">} catch (Exception ex) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ex.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">return document;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">//读取指定的xml文件之后返回一个Document对象，这个对象代表了整个XML文档，用于各种Dom运算。执照XML文件头所定义的编码来转换。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.2、获取根节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">根节点是xml分析的开始，任何xml分析工作都需要从根开始</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Xml xml = new Xml();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document dom = xml.load(path + &quot;/&quot; + file);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element root = dom.getRootElement();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.3、. 新增一个节点以及其下的子节点与数据</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element menuElement = root.addElement(&quot;menu&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element engNameElement = menuElement.addElement(&quot;engName&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">engNameElement.setText(catNameEn);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element chiNameElement = menuElement.addElement(&quot;chiName&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">chiNameElement.setText(catName);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.4、 写入XML文件</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">注意文件操作的包装类是乱码的根源</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public static boolean doc2XmlFile(Document document, String filename) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">boolean flag = true;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">XMLWriter writer = new XMLWriter( new OutputStreamWriter(new FileOutputStream(filename),&quot;UTF-8&quot;));</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.write(document);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.close();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">} catch (Exception ex) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">flag = false;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ex.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">System.out.println(flag);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">return flag;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;"> </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    Dom4j通过XMLWriter将Document对象表示的XML树写入指定的文件，并使用OutputFormat格式对象指定写入的风格和编码方法。调用OutputFormat.createPrettyPrint()方法可以获得一个默认的pretty print风格的格式对象。对OutputFormat对象调用setEncoding()方法可以指定XML文件的编码方法。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;"> </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public void writeTo(OutputStream out, String encoding) throws UnsupportedEncodingException, IOException {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       OutputFormat format = OutputFormat.createPrettyPrint();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       format.setEncoding(&quot;gb2312&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       XMLWriter writer = new XMLWriter(System.out,format);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       writer.write(doc);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       writer.flush();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       return;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2. 5、遍历xml节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       对Document对象调用getRootElement()方法可以返回代表根节点的Element对象。拥有了一个Element对象后，可以对该对象调用elementIterator()方法获得它的子节点的Element对象们的一个迭代器。使用(Element)iterator.next()方法遍历一个iterator并把每个取出的元素转化为Element类型。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public boolean isOnly(String catNameEn,HttpServletRequest request,String xml) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">boolean flag = true;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String path = request.getRealPath(&quot;&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document doc = load(path+&quot;/&quot;+xml);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element root = doc.getRootElement();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">for (Iterator i = root.elementIterator(); i.hasNext();) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element el = (Element) i.next();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">if(catNameEn.equals(el.elementTextTrim(&quot;engName&quot;))){</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">flag = false;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">break;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">return flag;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.6、创建xml文件</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public static void main(String args[]){</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String fileName=&quot;c:/text.xml&quot;;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document document=DocumentHelper.createDocument();//建立document对象，用来操作xml文件</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element booksElement=document.addElement(&quot;books&quot;);//建立根节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">booksElement.addComment(&quot;This is a test for dom4j &quot;);//加入一行注释</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element bookElement=booksElement.addElement(&quot;book&quot;);//添加一个book节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">bookElement.addAttribute(&quot;show&quot;,&quot;yes&quot;);//添加属性内容</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element titleElement=bookElement.addElement(&quot;title&quot;);//添加文本节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">titleElement.setText(&quot;ajax in action&quot;);//添加文本内容</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">try{</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">XMLWriter writer=new XMLWriter(new FileWriter(new File(fileName)));</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;"> </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;"> </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.write(document);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.close();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}catch(Exception e){</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">e.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.7、修改节点属性</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public static void modifyXMLFile() {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        String oldStr = &quot;c:/text.xml&quot;;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        String newStr = &quot;c:/text1.xml&quot;;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        Document document = null;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        //修改节点的属性</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                SAXReader saxReader = new SAXReader(); // 用来读取xml文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                document = saxReader.read(new File(oldStr)); // 读取xml文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                List list = document.selectNodes(&quot;/books/book/@show&quot;);// 用xpath查找节点book的属性</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                Iterator iter = list.iterator();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                while (iter.hasNext()) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        Attribute attribute = (Attribute) iter.next();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        if (attribute.getValue().equals(&quot;yes&quot;)) </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                attribute.setValue(&quot;no&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                } catch (Exception e) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        e.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                //修改节点的内容</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        SAXReader saxReader = new SAXReader(); // 用来读取xml文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        document = saxReader.read(new File(oldStr)); // 读取xml文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        List list = document.selectNodes(&quot;/books/book/title&quot;);// 用xpath查找节点book的内容</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        Iterator iter = list.iterator();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        while (iter.hasNext()) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                Element element = (Element) iter.next();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                element.setText(&quot;xxx&quot;);// 设置相应的内容</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                } catch (Exception e) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        e.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        XMLWriter writer = new XMLWriter(new FileWriter(new File(newStr)));</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        writer.write(document);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        writer.close();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                } catch (Exception ex) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        ex.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.8、删除节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">public static void removeNode() {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        String oldStr = &quot;c:/text.xml&quot;;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        String newStr = &quot;c:/text1.xml&quot;;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        Document document = null;</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                SAXReader saxReader = new SAXReader();// 用来读取xml文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                document = saxReader.read(new File(oldStr));// 读取xml文档</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                List list = document.selectNodes(&quot;/books/book&quot;);// 用xpath查找对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                Iterator iter = list.iterator();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                while (iter.hasNext()) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        Element bookElement = (Element) iter.next();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        // 创建迭代器，用来查找要删除的节点,迭代器相当于指针，指向book下所有的title节点</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        Iterator iterator = bookElement.elementIterator(&quot;title&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        while (iterator.hasNext()) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                        Element titleElement = (Element) iterator.next();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                if (titleElement.getText().equals(&quot;ajax in action&quot;)) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                        bookElement.remove(titleElement);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                                }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                } catch (Exception e) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        e.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        try {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                XMLWriter writer = new XMLWriter(new FileWriter(new File(newStr)));</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        writer.write(document);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        writer.close();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                } catch (Exception ex) {</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                        ex.printStackTrace();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        }</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;"> </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2、XML文档操作2</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.1、Document对象相关        </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">1、读取XML文件,获得document对象.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       SAXReader reader = new SAXReader();  </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">      Document   document = reader.read(new File(&quot;input.xml&quot;));      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2、解析XML形式的文本,得到document对象.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             String text = &quot;&lt;members&gt;&lt;/members&gt;&quot;;      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Document document = DocumentHelper.parseText(text);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3、主动创建document对象.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Document document = DocumentHelper.createDocument();      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Element root = document.addElement(&quot;members&quot;);// 创建根节点      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.2、节点相关        </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">1、获取文档的根节点.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element rootElm = document.getRootElement();      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2、取得某节点的单个子节点.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element memberElm=root.element(&quot;member&quot;);// &quot;member&quot;是节点名      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3.取得节点的文字      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String text=memberElm.getText();     </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String text=root.elementText(&quot;name&quot;);这个是取得根节点下的name字节点的文字.       </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">4.取得某节点下指定名称的所有节点并进行遍历.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">List nodes = rootElm.elements(&quot;member&quot;);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">for (Iterator it = nodes.iterator(); it.hasNext();) {      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    Element elm = (Element) it.next();      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">   // do something      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">5.对某节点下的所有子节点进行遍历.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">            for(Iterator it=root.elementIterator();it.hasNext();){      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                 Element element = (Element) it.next();      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">                // do something      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             }      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">6.在某节点下添加子节点.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element ageElm = newMemberElm.addElement(&quot;age&quot;);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">7.设置节点文字.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">ageElm.setText(&quot;29&quot;);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">8.删除某节点.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">parentElm.remove(childElm);    // childElm是待删除的节点,parentElm是其父节点      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">9.添加一个CDATA节点.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         Element contentElm = infoElm.addElement(&quot;content&quot;);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         contentElm.addCDATA(diary.getContent());      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.3、属性相关.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">1.取得节点的指定的属性      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Element root=document.getRootElement();          </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Attribute attribute=root.attribute(&quot;size&quot;);    // 属性名name      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.取得属性的文字      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">    String text=attribute.getText();    </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">        String text2=root.element(&quot;name&quot;).attributeValue(&quot;firstname&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">//这个是取得根节点下name字节点的firstname属性的值.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3.遍历某节点的所有属性      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element root=document.getRootElement();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">for(Iterator it=root.attributeIterator();it.hasNext();){</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Attribute attribute = (Attribute) it.next();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String text=attribute.getText();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">System.out.println(text);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">}</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">4.设置某节点的属性和文字.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">newMemberElm.addAttribute(&quot;name&quot;, &quot;sitinspring&quot;);    </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">5.设置属性的文字      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Attribute attribute=root.attribute(&quot;name&quot;);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             attribute.setText(&quot;sitinspring&quot;);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">6.删除某属性      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             Attribute attribute=root.attribute(&quot;size&quot;);// 属性名name      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">             root.remove(attribute);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.4、将文档写入XML文件.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">1.文档中全为英文,不设置编码,直接写入.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">XMLWriter writer = new XMLWriter(new FileWriter(&quot;output.xml&quot;));      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.write(document);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.close();      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.文档中含有中文,设置编码格式再写入.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">OutputFormat format = OutputFormat.createPrettyPrint();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">format.setEncoding(&quot;GBK&quot;);    // 指定XML编码</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">XMLWriter writer = new XMLWriter(new FileWriter(&quot;output.xml&quot;),format);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.write(document);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">writer.close();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.5、字符串与XML的转换      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">1.将字符串转化为XML      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String text = &quot;&lt;members&gt; &lt;member&gt;sitinspring&lt;/member&gt; &lt;/members&gt;&quot;;      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document document = DocumentHelper.parseText(text);      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">2.将文档或节点的XML转化为字符串.      </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">SAXReader reader = new SAXReader();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Document document = reader.read(new File(&quot;input.xml&quot;));</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element root=document.getRootElement();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String docXmlText=document.asXML();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String rootXmlText=root.asXML();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">Element memberElm=root.element(&quot;member&quot;);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">String memberXmlText=memberElm.asXML();</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;"> </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">       </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3、dom4j的事件处理模型涉及的类和接口：</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3.1、类：SAXReader</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public void addHandler(String path,ElementHandler handler)当解析到path指定的路径时，将调用参数handler指定的处理器。针对不同的节点可以添加多个handler实例。或者调用默认的Handler setDefaultHandler(ElementHandler handler);</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3.2、接口ElementHandler</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public void onStart(ElementPath path)该方法在解析到元素的开始标签时被调用。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public void onEnd(ElementPath path)该方法在解析到元素的结束标签时被调用</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3.3、接口：ElementPath （假设有参数：ElementPath path）</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public void addHandler(String path,ElementHandler)该方法与SAXReader类中的addHandler()方法的作用相同。路径path可以是绝对路径（路径以/开头），也可以是相对路径（假设是当前路径的子节点路径）。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public void removeHandler(String path)移除指定路径上的ElementHandler实例。路径可以是相对路径，也可以是绝对路径。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public String getPath()该方法得到当前节点的路径。该方法返回的是完整的绝对路径</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">         public Element getCurrent()该方法得到当前节点。</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">3.3、Element类 </span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getQName()元素的QName对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getNamespace()元素所属的Namespace对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getNamespacePrefix()元素所属的Namespace对象的prefix</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getNamespaceURI()元素所属的Namespace对象的URI</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getName()元素的local name</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getQualifiedName()元素的qualified name</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getText()元素所含有的text内容，如果内容为空则返回一个空字符串而不是null</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getTextTrim()元素所含有的text内容，其中连续的空格被转化为单个空格，该方法不会返回null</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">attributeIterator()元素属性的iterator，其中每个元素都是Attribute对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">attributeValue()元素的某个指定属性所含的值</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">elementIterator()元素的子元素的iterator，其中每个元素都是Element对象</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">element()元素的某个指定（qualified name或者local name）的子元素</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">elementText()元素的某个指定（qualified name或者local name）的子元素中的text信息</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getParent元素的父元素</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">getPath()元素的XPath表达式，其中父元素的qualified name和子元素的qualified name之间使用&quot;/&quot;分隔</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">isTextOnly()是否该元素只含有text或是空元素</span><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><br style="background-color: inherit; font-family: 微软雅黑; font-size: 14px;"/><span style="font-family: 微软雅黑; font-size: 14px;">isRootElement()是否该元素是XML树的根节点</span></div>
</div></body></html> 