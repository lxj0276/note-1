<html>
<head>
  <title>06上spring使用JDBC操作数据库（获取DataSourse）</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="5298"/>
<h1>06上spring使用JDBC操作数据库（获取DataSourse）</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/8/14 18:28</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/8/30 12:23</i></td></tr>
<tr><td><b>标签：</b></td><td><i>JDBC操作数据库, spring</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="file:///"><i>file:///</i></a></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
spring使用sun公司制定的DataSourse接口，具体的实现类，可以为DBCP或者C3P0等源数据源，但是，spring，就是面向接口编程，因此，具体的实现类，不用关心：
<div><hr/>
具体操作过程：</div><div>（1）配置xml文件</div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image.png" type="image/png" style="cursor: default;cursor: default;"/></div><div>（2）</div><div>配置好了，程序员就可以获得数据源了，不必关心具体的第三方数据源提供者：想·</div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [1].png" type="image/png" height="236" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="775"/></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [2].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div>配置文件如下：</div><div><a href="06上spring使用JDBC操作数据库（获取DataSourse）_files/jdbc.properties"><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/3eac170c0b389c70d4cb2de9df940781.png" alt="jdbc.properties"></a><a href="06上spring使用JDBC操作数据库（获取DataSourse）_files/applicationContext.xml"><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/9889b285257a8ce549de238833e17530.png" alt="applicationContext.xml"></a></div><div><br/></div><div>配置好，代码中就可以直接使用数据源了。而不用自己写数据源。这个，就是spring的IOC，程序员完全就是面向接口编程。</div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [3].png" type="image/png" height="536" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1333"/></div><div><br/></div><div><br/></div><div><br/></div><div>上图标明，在使用数据源的时候，就使用dataSourse这个代号就行，就能够获得DBCP/或者C3P0提供的数据源。</div><div><br/></div><div><hr/>
应用：采用模板模式（<b style="font-size: 32px;"><font color="#3665EE" style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font face="宋体">固定的流程</font><font face="Times New Roman">+</font><font face="宋体">可变的参数</font></font></b>），与数据库连接。</div><div>也就是说，spring写好了模板，我们只要传递给这个模板一个数据源（通过配置文件，进行DI），然后继承该模板，就可以获得模板中的关于数据库操作的CRUD方法。</div><div style="font-size: 32px;"><span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><u><b><font color="#E30000">注：在模板中，会自己在数据源中，获取连接。我们不用关注这个东西。</font></b></u></span></div><hr/>
JdbcTemplate类，就是spring提供的那个模板类，程序员只要指定数据源，就可以使用jdbc的那些规则，执行sql语句了，类似（参见模式设计笔记本中的那个模板模式讲解）的那个自定义模板类。我们只要继承，就可以使用模板类中的方法。
<div><br/></div><div style="font-size: 32px;"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font color="#7600D8">首先定义一个抽象类：JdbcAccessor</font></b></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [4].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div style="font-size: 32px;"><font color="#7600D8"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;">然后，JdbcTemplate类继承上述类：</b></font></div><div><br/><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [5].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div>父类保证该模板可以继承有数据源，接口保证该模板可以执行的各种CRUD操作。</div><div>该模板中，我了解的方法有：</div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [6].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div>该模板类的继承实现体系，<b style="background-color:rgb(255, 250, 165);-evernote-highlight:true; font-size: 24px;">将应该具有的数据源的操作，与应该具有的CRUD操作，分开继承，一个是抽象类，用于数据源的继承，一个是接口，通过实现该接口，使得该类具有通过JDBC操作数据的各种crud操作，挺好。不会乱。（理解）</b></div><div><br/></div><div>谈到该模板类，就必须了解另外一个类：</div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [7].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div>这个类的私有成员变量，就是模板类，因此，也是相互联系的。</div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [8].png" type="image/png" height="575" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1089"/></div><div><hr/>
总结上述各个抽象类，接口什么的，最终目的：</div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [9].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br/></div><div><br/></div><div><hr/>
应用的例子：</div><div style="font-size: 32px;"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font color="#7600D8">案例一：</font></b></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [10].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div>JdbcAccessor中有dataSource</div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [11].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div style="font-size: 32px;"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font color="#7600D8">案例二：</font></b></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [12].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [13].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div style="font-size: 32px;"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font color="#7600D8">案例三：</font></b></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [14].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/>      </div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [15].png" type="image/png" height="129" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="930"/></div><div><br/></div><div style="font-size: 32px;"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font color="#7600D8">案例四：</font></b></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [16].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [17].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div>这样弄，更加复杂，作为了解即可。</div><div><br/></div><div style="font-size: 32px;"><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true;"><font color="#7600D8">案例五：</font></b></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [18].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [19].png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br/></div><div><br/></div><div>或：</div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [20].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div><b style="background-color:rgb(255, 250, 165);-evernote-highlight:true; font-size: 64px;"><font color="#7600D8">案例六：</font></b></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [21].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [22].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div style="font-size: 32px;"><font color="#7600D8"><b>哈哈，各种注入，就是给一个数据源。这个就是模板，接收到数据源之后，其他类继承数据源，然后就可以调用数据源的crud方法了。</b></font></div></div><div><img src="06上spring使用JDBC操作数据库（获取DataSourse）_files/Image [23].png" type="image/png" height="515" style="cursor: default;cursor: default;" width="1337"/></div></div>
</div></body></html> 