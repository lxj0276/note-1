<html>
<head>
  <title>struts2源码分析</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="2569"/>
<h1>struts2源码分析</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/7/30 8:45</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/8/3 7:05</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="http://blog.sina.com.cn/s/blog_9f3ef2e30101iulv.html"><i>http://blog.sina.com.cn/s/blog_9f3ef2e30101iulv.html</i></a></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-family: Courier,">一、比较重要的类：</div><div style="font-family: Courier,">ValueStack、ActionContext、ServletActionContext、StrutsPrepareAndExecuteFilter、<span style="background-color: rgb(212, 212, 212); font-size: 12pt; font-family: Consolas;">Dispatcher、</span>Container、</div><div style="font-family: Courier,"><table border="1" cellpadding="0" cellspacing="0"><tbody><tr><td valign="top"><p align="left"><strong><span style="CoLor: #365f91"><span style="FonT-siZe: 16px">包名</span></span></strong></p></td><td valign="top"><p align="left"><strong><span style="CoLor: #365f91"><span style="FonT-siZe: 16px">说明</span></span></strong></p></td></tr><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2. components</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">该包封装视图组件，Struts2</span></span>在 视图组件上有了很大加强，不仅增加了组件的属性个数，更新增了几个非常有用的组件，如updownselect、doubleselect、 datetimepicker、token、tree等。另外，Struts2可视化视图组件开始支持主题(theme)，缺省情况下，使用自带的缺省主 题，如果要自定义页面效果，需要将组件的theme属性设置为simple。</p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2. config</span></span></strong></p></td><td valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">该包定义与配置相关的接口和类。实际上，工程中的xml</span></span>和properties文件的读取和解析都是由WebWork完成的，Struts只做了少量的工作。</p></td></tr><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.dispatcher</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="FonT-FAMiLY: 宋体"><span style="CoLor: #365f91">Struts2</span><span style="CoLor: #365f91">的核心包，最重要的类都放在该包中。</span></span></p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.impl</span></span></strong></p></td><td valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">该包只定义了3</span></span>个类，他们是StrutsActionProxy、StrutsActionProxyFactory、StrutsObjectFactory，这三个类都是对xwork的扩展。</p></td></tr><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.interceptor</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">定义内置的截拦器。</span></span></p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.util</span></span></strong></p></td><td valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">实用包。</span></span></p></td></tr><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.validators</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">只定义了一个类：DWRValidator</span></span>。</p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.views</span></span></strong></p></td><td valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">提供freemarker</span></span>、jsp、velocity等不同类型的页面呈现。</p></td></tr></tbody></table><table border="1" cellpadding="0" cellspacing="0" style="WiDTH: 571px"><tbody><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.dispatcher. Dispatcher</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">该类有两个作用：初始化、调用指定的Action</span></span>的execute()方法。</p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">org.apache.struts2.dispatcher. FilterDispatcher</span></span></strong></p></td><td valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">这是一个过滤器。文档中已明确说明，如果没有经验，配置时请将url-pattern</span></span>的值设成/*。该类有四个作用：执行Action、清理ActionContext，避免内存泄漏、处理静态内容（Serving static content）、为请求启动xwork’s的截拦器链。</p></td></tr><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">com.opensymphony.xwork2. ActionProxy</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="FonT-FAMiLY: 宋体"><span style="CoLor: #365f91">Action</span><span style="CoLor: #365f91">的代理接口。</span></span></p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">com.opensymphony.xwork2. ctionProxyFactory</span></span></strong></p></td><td valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">生产ActionProxy</span></span>的工厂。</p></td></tr><tr><td style="BACKGroUnD: #d3dfee" valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">com.opensymphony.xwork2.ActionInvocation</span></span></strong></p></td><td style="BACKGroUnD: #d3dfee" valign="top"><p><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">负责调用Action</span></span>和截拦器。</p></td></tr><tr><td valign="top"><p><strong><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">com.opensymphony.xwork2.config.providers. XmlConfigurationProvider</span></span></strong></p></td><td valign="top"><div><span style="CoLor: #365f91"><span style="FonT-FAMiLY: 宋体">负责Struts2</span></span>的配置文件的解析。</div></td></tr></tbody></table><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div><div style="font-family: Courier,"><br/></div></div>
</div></body></html> 