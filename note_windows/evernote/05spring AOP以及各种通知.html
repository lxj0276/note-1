<html>
<head>
  <title>05spring AOP以及各种通知</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="5277"/>
<h1>05spring AOP以及各种通知</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/8/12 8:26</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/9/4 6:03</i></td></tr>
<tr><td><b>标签：</b></td><td><i>AOP, spring</i></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
包括<span style="-evernote-highlight:true;background-color:rgb(255, 250, 165); font-size: 32px;"><b><font color="#2D4FC9">其他业务类（切面），被代理类（目标类），切面中的通知，目标类中的切入点</font></b></span><span style="font-size: 32px;">。</span>只要把这些配置好，告诉spring，
<div><br/></div><div>其他，类似于拦截器（我称之为结果处理器，以及最后代理类的组装，全部交给spring完成，就可以了
<div><br/></div><div><hr/>
首先，准备目标类以及目标类的那个接口。</div><div>接口：</div><div><br/></div><div align="left"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>interface</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">PersonDao {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">savePerson();</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">}</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">目标类：</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><div align="left"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">PersonDaoImpl</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>implements</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">PersonDao{</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">savePerson() {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          System.</span></font> <font color="#0000C0" face="Consolas" size="4"><span style="font-size:14pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:14pt">.println(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt">&quot;save person&quot;</span></font> <font face="Consolas" size="4"><span style="font-size:14pt">);</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">}</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">然后是其他业务类（切面）</span></font></div><div align="left"><div align="left"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">Transaction {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">beginTransaction(){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          System.</span></font> <font color="#0000C0" face="Consolas" size="4"><span style="font-size:14pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:14pt">.println(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt">&quot;begin transaction&quot;</span></font> <font face="Consolas" size="4"><span style="font-size:14pt">);</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">commit(){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          System.</span></font> <font color="#0000C0" face="Consolas" size="4"><span style="font-size:14pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:14pt">.println(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt">&quot;commit&quot;</span></font> <font face="Consolas" size="4"><span style="font-size:14pt">);</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">}</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><font face="Consolas">然后是配置文件，告诉spring容器，怎样使用：</font></div><div align="left"><img src="05spring AOP以及各种通知_files/Image.png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br/></div><div align="left"><br/></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [1].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br/></div><div align="left"><br/></div><div align="left"><br/></div><div align="left"><br/></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [2].png" type="image/png" height="482" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="813"/></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [3].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><a href="05spring AOP以及各种通知_files/applicationContext.xml"><img src="05spring AOP以及各种通知_files/9a2fd780fb6bfccbbc31d1bab80d8362.png" alt="applicationContext.xml"></a></div><div align="left"><br/></div><div align="left"><br/></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">然后就是测试：</span></font></div><div align="left"><div align="left"><font color="#3F5FBF" face="Consolas"><br/></font></div><div align="left"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">PersonDaoTest {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#646464" face="Consolas" size="4"><span style="font-size:14pt">@Test</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">testPersonDao(){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          ApplicationContext context =</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">                   </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>new</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">ClassPathXmlApplicationContext(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt">&quot;applicationContext.xml&quot;</span></font> <font face="Consolas" size="4"><span style="font-size:14pt">);</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          PersonDaoImpl personDao = (PersonDaoImpl)context.getBean(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt">&quot;personDao&quot;</span></font> <font face="Consolas" size="4"><span style="font-size:14pt">);</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          personDao.savePerson();</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">}</span></font></div></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;">/**</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> * 原理：</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *    1、启动spring容器</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *    2、把spring配置文件中的bean实例化</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *    3、spring容器解析aop:config,就会解析切入点表达式，</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *    4、spring容器会把切入点表达式与spring容器内部的类作匹配，如果匹配成功，则</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *        为该类创建代理对象，代理对象的方法体的形成过程就是通知+目标方法</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *        如果切入点表达式与spring容器内部的类没有匹配成功，则报错</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *    5、当在客户端利用context.getBean获取某一个对象时，如果有代理对象，则</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *         返回代理对象，如果没有代理对象，则返回类的实例对象</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *  说明：</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *     spring容器会根据目标类有没有实现接口，自动产生代理对象</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *         如果实现了接口，则用</span> <span style="font-size: 14pt;"><u>jdkproxy</u></span><span style="font-size: 14pt;">产生代理对象</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *         如果没有实现接口，则用</span> <span style="font-size: 14pt;"><u>cglib</u></span><span style="font-size: 14pt;">产生代理对象</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> *</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size: 14pt;"> */</span></font></div></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">jar包包括：</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [4].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/><img src="05spring AOP以及各种通知_files/Image [5].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/>（代理类用，可以不使用，cglib的jar包）</div><hr/>
接下来，就是学习各种通知：以及在各个业务类的通知函数中，怎样处理切入点：</div><div align="left"><br/></div><div align="left"><div align="left"><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt; background:#d4d4d4">aop:config</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&gt;首先是切入点，弄好切入点表达式，重点</span></font><img src="05spring AOP以及各种通知_files/Image [6].png" type="image/png" height="484" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1159"/></div><div align="left" style="font-size: 32px;"><b style="-evernote-highlight:true;background-color:rgb(255, 250, 165);"><font color="#2D4FC9">通过上面可以看出，一个目标类中的切入点，也就是目标类中的目标函数（要被拦截的函数）必须具有返回值、路径（包，类，函数名）以及参数类型。</font></b></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt">aop:pointcut</span></font></div><div align="left"><font color="#010101" face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">expression</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;execution(* com.itheima10.spring.aop.advice.xml.PersonDaoImpl.*(..))&quot;</i></span></font></div><div align="left"><font color="#010101" face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">id</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font> <font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;perform&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">/&gt;切入点的代号：“perform”</span></font></div><div align="left"><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt"><br/></span></font></div><div align="left" style="font-size: 32px;"><font color="#008080" face="Consolas"><b style="-evernote-highlight:true;background-color:rgb(255, 250, 165);">接下来，就是配置切面：</b></font></div><div align="left" style="font-size: 32px;"><font color="#008080" face="Consolas"><b style="-evernote-highlight:true;background-color:rgb(255, 250, 165);">在该切面的配置中，也必须配置各种通知：</b></font></div><div align="left" style="font-size: 32px;"><font color="#008080" face="Consolas"><b style="-evernote-highlight:true;background-color:rgb(255, 250, 165);"><br/></b></font></div><div align="left" style="font-size: 32px;"><font color="#008080" face="Consolas"><b>包括：前置，后置，环绕，异常，最终。</b></font></div><div align="left" style="font-size: 32px;"><font color="#008080" face="Consolas"><b><br/></b></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt">aop:aspect</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">ref</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font> <font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;transaction&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                   前置通知</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                      1、在目标方法输出之前执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">               --&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">              &lt;aop:before method=&quot;beginTransaction&quot;</span> <span style="font-size:14pt"><u>pointcut</u></span><span style="font-size:14pt">-</span><span style="font-size:14pt"><u>ref</u></span> <span style="font-size:14pt">=&quot;perform&quot;/&gt;</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas"><br/></font></div><div align="left"><font color="#3F5FBF" face="Consolas">代码中如何使用：</font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">               --&gt;</span></font></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [7].png" type="image/png" height="262" style="cursor: default;cursor: default;" width="1080"/></div><hr/><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                   后置通知</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                        1、在目标方法输出之后执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                        2、如果目标方法产生异常，则后置通知不再执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                        3、能够获取目标方法的返回值</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                            returning的值为目标方法返回值的参数</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">               --&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">              &lt;aop:after-returning method=&quot;commit&quot;</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                        </span> <span style="font-size:14pt"><u>pointcut</u></span><span style="font-size:14pt">-</span><span style="font-size:14pt"><u>ref</u></span> <span style="font-size:14pt">=&quot;perform&quot;</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                        returning=&quot;</span> <span style="font-size:14pt"><u>val</u></span><span style="font-size:14pt">&quot;/&gt;</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">               --&gt;</span></font></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [8].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><hr/><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                   最终通知</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                       1、在目标方法输出之后执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                       2、无论目标方法是否遇到异常，都将执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">               --&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt">aop:after</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">method</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font> <font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;finallyMethod&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">pointcut-ref</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;perform&quot;</i></span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">/&gt;</span></font></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [9].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><hr/><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                   异常通知</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                        获取目标方法抛出的异常信息</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">               --&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt">aop:after-throwing</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">method</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;throwingMethod&quot;</i></span></font></div><div align="left"><font color="#010101" face="Consolas" size="4"><span style="font-size:14pt">                   </span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">pointcut-ref</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;perform&quot;</i></span></font></div><div align="left"><font color="#010101" face="Consolas" size="4"><span style="font-size:14pt">                   </span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">throwing</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font> <font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;ex&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">/&gt;</span></font></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [10].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><hr/><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">&lt;!--</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                   环绕通知</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                     可以控制目标方法的执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                    前置通知和后置通知只能在目标方法输出之前和输出之后加代码，但是不能控制目标方法的执行</span></font></div><div align="left"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:14pt">                --&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt">aop:around</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">method</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font> <font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;aroundMethod&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:14pt">pointcut-ref</span></font><font face="Consolas" size="4"><span style="font-size:14pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:14pt"><i>&quot;perform&quot;</i></span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">/&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt">aop:aspect</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&gt;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:14pt; background:#d4d4d4">aop:config</span></font> <font color="#008080" face="Consolas" size="4"><span style="font-size:14pt">&gt;</span></font></div></div><div align="left"><br/></div><div align="left"><img src="05spring AOP以及各种通知_files/Image [11].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div></div></div>
</div></body></html> 