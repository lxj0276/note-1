<html>
<head>
  <title>jQuery高级2</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="6234"/>
<h1>jQuery高级2</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/8/25 8:37</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/8/26 16:34</i></td></tr>
<tr><td><b>标签：</b></td><td><i>this, 闭包（clouse）, 回调函数</i></td></tr>
<tr><td><b>来源：</b></td><td><a href="file:///"><i>file:///</i></a></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><span style="font-size: 24px;">1.ajax封装（用回调函数）</span><div><img src="jQuery高级2_files/Image.png" type="image/png" height="493" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1077"/></div><div><img src="jQuery高级2_files/Image [1].png" type="image/png" height="343" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1340"/></div><div><img src="jQuery高级2_files/Image [2].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div style="font-size: 24px;">2.this（多态）：谁调用this代表谁</div><div>     java中this也是多态：可能代表当前对象或者子类对象。</div><div>     this永远是dom对象，要用$(this)</div><div><img src="jQuery高级2_files/Image [3].png" type="image/png" height="65" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1164"/></div><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><div align="left"><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>function</b></span></font> <font face="Consolas"><span style="font-size:12pt">Person</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(){                        </span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font><font face="Consolas"><span style="font-size:12pt">alert</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>this</b></span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><div><font face="Consolas"><span style="font-size: 12pt;">Person</span></font></div><font color="#5C5C5C" face="Consolas"><span style="font-size: 12pt;">();</span></font> <font color="#008000" face="Consolas"><span style="font-size: 12pt;">//this为window</span></font></div><div align="left">                    <img src="jQuery高级2_files/Image [4].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font face="Consolas"><br/></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>function</b></span></font> <font face="Consolas"><span style="font-size:12pt">Student</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(){</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font></div><div align="left"><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">}</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">Student</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">.</span></font> <font face="Consolas"><span style="font-size:12pt">person</span></font> <font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">=</span></font> <font face="Consolas"><span style="font-size:12pt">Person</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">;</span></font> <font color="#008000" face="Consolas"><span style="font-size:12pt">//this为Student</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">Student</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">.</span></font> <font face="Consolas"><span style="font-size:12pt">person</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">();</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font> <img src="jQuery高级2_files/Image [5].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>var</b></span></font> <font face="Consolas"><span style="font-size:12pt">json</span></font> <font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">=</span></font> <font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">{</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font><font face="Consolas"><span style="font-size:12pt">a</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">:</span></font><font face="Consolas"><span style="font-size:12pt">Person</span></font></div><div align="left"><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">};</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">json</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">.</span></font> <font face="Consolas"><span style="font-size:12pt">a</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">();</span></font> <font color="#008000" face="Consolas"><span style="font-size:12pt">//this为json</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font> <img src="jQuery高级2_files/Image [6].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><br/></div><div align="left"><font face="Consolas"><span style="font-size:12pt">$</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">().</span></font> <font face="Consolas"><span style="font-size:12pt">ready</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>function</b></span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(){</span></font> <font color="#008000" face="Consolas"><span style="font-size:12pt">//ready中的参数为回调函数，回调函数中的this是ready函数中的调用回调函数者</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font><font face="Consolas"><span style="font-size:12pt">alert</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>this</b></span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">);</span></font><font color="#008000" face="Consolas"><span style="font-size:12pt">//在ready函数中谁调用回调函数，this就代表谁</span></font></div><div align="left"><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">});</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font>  <img src="jQuery高级2_files/Image [7].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/>在最后输入，执行完别的了再加载ready（）。</div><div align="left"><br/></div><div align="left"><font face="Consolas"><span style="font-size:12pt">$</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font color="#005C00" face="Consolas"><span style="font-size:12pt">&quot;div&quot;</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">).</span></font><font face="Consolas"><span style="font-size:12pt">each</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font><font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>function</b></span></font> <font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(){</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt">     </span></font><font face="Consolas"><span style="font-size:12pt">alert</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font color="#0000C0" face="Consolas"><span style="font-size:12pt"><b>this</b></span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">);</span></font><font color="#008000" face="Consolas"><span style="font-size:12pt">//在each函数中，谁调用回调函数，this就代表谁</span></font></div><div align="left"><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">});</span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><font color="#010101" face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left"><font color="#008000" face="Consolas"><span style="font-size:12pt">//call,apply函数改变this的指向</span></font></div><div align="left"><font face="Consolas"><span style="font-size:12pt">Person</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">.</span></font> <font face="Consolas"><span style="font-size:12pt">call</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font face="Consolas"><span style="font-size:12pt">Student</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">);</span></font> <font color="#010101" face="Consolas"><span style="font-size:12pt"> </span></font> <font color="#008000" face="Consolas"><span style="font-size:12pt">//Student.Person();</span></font></div><div align="left"><font color="#008000" face="Consolas"><span style="font-size:12pt">     </span></font><img src="jQuery高级2_files/Image [8].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div align="left"><font face="Consolas"><span style="font-size:12pt">Person</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">.</span></font> <font face="Consolas"><span style="font-size:12pt">apply</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">(</span></font> <font face="Consolas"><span style="font-size:12pt">Student</span></font><font color="#5C5C5C" face="Consolas"><span style="font-size:12pt">);</span></font> <font color="#008000" face="Consolas"><span style="font-size:12pt">//Student.Person();</span></font></div><div align="left"><font color="#008000" face="Consolas"><span style="font-size:12pt">     </span></font><img src="jQuery高级2_files/Image [9].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div></blockquote><div align="left"><br/></div><div style="font-size: 24px;"><br/></div><div style="font-size: 24px;">3.闭包：clouse:在函数内部调用的函数，在外部使用</div><div>     闭包做到了函数的公开性，私有性</div><div><img src="jQuery高级2_files/Image [10].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><img src="jQuery高级2_files/Image [11].png" type="image/png" height="559" style="cursor: default;cursor: default;cursor: default;cursor: default;" width="1038"/></div><div style="font-size: 24px;"><br/></div><div style="font-size: 24px;">4.自调函数：</div><div>     <img src="jQuery高级2_files/Image [12].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div>     在函数内部声明的函数，在外部无法调用；可以把内部的函数返回，然后再用，见闭包。</div><div>     <img src="jQuery高级2_files/Image [13].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div style="font-size: 24px;">5.内核</div><div>(function( window, undefined ) {<br/>
    //jQuery可以是一个对象、是一个函数、是一个构造器函数<br/>
     var jQuery = function( selector, context ) {<br/>
          return new jQuery.fn.init( selector, context );<br/>
     },<br/>
     //利用jquery的选择器获取的jquery对象调用的方法都是写在jQuery的prototype上的方法<br/>
     //可以利用jquery的构造器创建出来的对象也可以调用这些方法<br/>
     //fn就是jQuery对象的一个属性，fn就是 prototype<br/>
     <span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;">jQuery.fn = jQuery.prototype</span> = {<br/>
          length: 0,<br/>
          get: function() {}, //由jquery对象转化成dom对象<br/>
          each: function( callback, args ) {<br/>
               return jQuery.each( this, callback, args );<br/>
          },<br/>
          ready:function( fn ) {<br/>
               fn.call( document, jQuery ); //document.fn<br/>
          }<br/>
     }<br/>
     //给window动态的添加了一个属性jQuery和$,把jQuery函数赋值给了这两个属性<br/>
     <span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;">window.jQuery = window.$ = jQuery;</span><br/>
     <span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;">$.fn=$.prototype=window.jQuery.fn=window.jQuery.prototype=window.$.fn=window.$.prototype</span><br/>
    <br/>
    <br/>
     //<span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;">把加在jQuery的prototype上的方法或者加在jQuery本身上的方法称为jQuery的插件开发</span><br/>
     jQuery.prototype.aa = function(){<br/>
    <br/>
     }<br/>
     jQuery.bb = function(){<br/>
    <br/>
     }<br/>
    <br/>
     //jQuery外部提供给程序员的api<br/>
     jQuery.fn.extend({<br/>
       check: function() {<br/>
         return this.each(function() { this.checked = true; });<br/>
       },<br/>
       uncheck: function() {<br/>
         return this.each(function() { this.checked = false; });<br/>
       }<br/>
     });<br/>
     ==<br/>
     jQuery.fn.check,jQuery.fn.uncheck<br/>
     jQuery.extend({<br/>
       min: function(a, b) { return a &lt; b ? a : b; },<br/>
       max: function(a, b) { return a &gt; b ? a : b; }<br/>
     });<br/>
     ==<br/>
     jQuery.min,jQuery.max<br/>
})(window);</div><div><br/></div><div><br/></div><div><span style="font-size: 24px;">6.jquery插件开发</span>（<span style="font-size: 24px;">用选择器选择出来就直接可以调用，是在</span><span style="background-color:rgb(255, 250, 165);-evernote-highlight:true;font-size: 24px;">jQuery的prototyp或者加在jQuery本身上的方法</span>）</div><div>     1.myeach</div><div>     <img src="jQuery高级2_files/Image [14].png" type="image/png" height="295" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1029"/></div><div><br/></div><div><img src="jQuery高级2_files/Image [15].png" type="image/png" height="576" style="cursor: default;" width="1340"/></div></div>
</div></body></html> 