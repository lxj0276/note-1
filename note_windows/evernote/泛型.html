<html>
<head>
  <title>泛型</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1486"/>
<h1>泛型</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/7/21 12:33</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/7/21 21:23</i></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="font-size: 32px;">一、<font face="宋体" style="font-family: 宋体;">基本概念</font></div><p style="margin-bottom: 0pt; margin-top: 0pt; font-size: 19px;"><span style="font-family: 宋体;">（定义：）<font face="Times New Roman">ArrayList&lt;E&gt;  </font><font face="宋体">：  </font><font face="Times New Roman">&lt;&gt;typeof</font></span></p><p style="margin-bottom: 0pt; margin-top: 0pt; font-size: 19px;"><span style="font-family: 宋体;">E<font face="宋体">：类型形式参数</font></span></p><p style="margin-bottom: 0pt; margin-top: 0pt; font-size: 19px;"><span style="font-family: 宋体;">（用带有泛型的类：）<font face="Times New Roman">new ArrayList&lt;Integer&gt;()</font></span></p><p style="margin-bottom: 0pt; margin-top: 0pt; border-bottom-width: 0.5pt; border-bottom-style: solid; border-bottom-color: rgb(0, 0, 0); padding: 0pt; font-size: 19px;"><span style="font-family: 宋体;">Integer:<font face="宋体">类型实际参数</font></span></p><p style="margin-bottom: 0pt; margin-top: 0pt; font-size: 19px;"><span style="font-family: 宋体;">ArrayList&lt;E&gt;  <font face="宋体">：泛型类型</font></span></p><p style="margin-bottom: 0pt; margin-top: 0pt; font-size: 19px;"><span style="font-family: 宋体;">ArrayList&lt;Integer&gt; <font face="宋体">：参数化的类型   （在</font><font face="Times New Roman">Java</font><font face="宋体">中是有一个类型来表示的</font><font face="Times New Roman">ParameterizedType</font><font face="宋体">）</font></span></p><p style="margin-bottom:0pt; margin-top:0pt;"><font face="宋体"><span style="font-size: 14px;"><br/></span></font></p><div><span style="font-size: 32px;">二、泛型定义</span></div><div align="left"><div align="left"><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//定义类级别的泛型类型，实例方法可以直接使用该类型</span></font></div><div align="left"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">GenericDemo1&lt;T&gt; {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//&lt;T&gt;定义泛型：放在方法的返回值前面。泛型只有先定义，才能使用</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">&lt;</span><span style="font-size:14pt"><u>T</u></span><span style="font-size:14pt">&gt; T m1(T t){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>null</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//传入泛型的字节码文件</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">T m2(Class&lt;T&gt; clazz)</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>throws</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">InstantiationException, IllegalAccessException{</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          T bean = clazz.newInstance();</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>return</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">bean;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//静态方法都必须先定义再使用</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>static</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">&lt;T&gt; T m3(){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>null</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     //定义多个泛型形参</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">&lt;K,V&gt; V get(K k){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>return</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>null</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">}</span></font></div></div><span style="font-size: 32px;">三、数组例子</span><div align="left"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">ArraysUtil {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//定义一个方法，可以完成任意数组中指定位置元素的交换</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>static</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">&lt;T&gt;</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">swap(T t[],</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>int</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">index1,</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>int</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">index2){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          T tmp = t[index1];</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          t[index1] = t[index2];</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          t[index2] = tmp;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//方法一：定义一个方法，实现任意数组中元素位置的反转：1 2 3---&gt;3 2 1</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>static</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">&lt;T&gt;</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">reverse1(T t[]){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>int</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">startIndex = 0;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>int</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">endIndex = t.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:14pt">length</span></font> <font face="Consolas" size="4"><span style="font-size:14pt">-1;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>while</b></span></font><font face="Consolas" size="4"><span style="font-size:14pt">(startIndex&lt;endIndex){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              T tmp = t[startIndex];</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              t[startIndex] = t[endIndex];</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              t[endIndex] = tmp;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              startIndex++;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              endIndex--;</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:14pt">//方法二：定义一个方法，实现任意数组中元素位置的反转：1 2 3---&gt;3 2 1</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>static</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">&lt;T&gt;</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">reverse2(T[] t ){</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          </span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>for</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">(</span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:14pt"><b>int</b></span></font> <font face="Consolas" size="4"><span style="font-size:14pt">i = 0; i &lt; t.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:14pt">length</span></font><font face="Consolas" size="4"><span style="font-size:14pt">/2; i++) {</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">              </span> <span style="font-size:14pt"><i>swap</i></span><span style="font-size:14pt">(t, i, t.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:14pt">length</span></font><font face="Consolas" size="4"><span style="font-size:14pt">-i-1);</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">          }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">     }</span></font></div><div align="left"><font face="Consolas" size="4"><span style="font-size:14pt">}</span></font></div></div>
</div></body></html> 