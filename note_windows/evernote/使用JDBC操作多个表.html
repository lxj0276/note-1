<html>
<head>
  <title>使用JDBC操作多个表</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/272236; Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="627"/>
<h1>使用JDBC操作多个表</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2014/7/15 22:40</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2014/7/16 0:54</i></td></tr>
<tr><td><b>标签：</b></td><td><i>JDBC, 表之间的关系, 一对多，多对多，一对一</i></td></tr>
</table>
</div>
<br/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul style="font-size: 24px;"><li>不管java的对象存在何种关系，反映到关系型数据库中，都是使用外键表示纪录（即对象）的关联关系。</li><li>设计java对象如涉及到多个对象相互引用，要尽量避免使用一对多，或多对多关系，而应使用多对一描述对象之间的关系(或使用延迟加载的方式)。</li></ul><div style="font-size: 32px;">一、一对多关系</div><div style="font-size: 24px;"><img src="使用JDBC操作多个表_files/Image.png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div style="font-size: 24px;"><img src="使用JDBC操作多个表_files/Image [1].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">#主表：一对多有主从关系</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">create table department(</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     id</span> <span style="font-size:12pt"><u>int</u></span> <span style="font-size:12pt">primary key,</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     name</span> <span style="font-size:12pt"><u>varchar</u></span><span style="font-size:12pt">(100)</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">create table employee(</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     id</span> <span style="font-size:12pt"><u>int</u></span> <span style="font-size:12pt">primary key,</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     name</span> <span style="font-size:12pt"><u>varchar</u></span><span style="font-size:12pt">(100),</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     salary float(8,2),</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     depart_id</span> <span style="font-size:12pt"><u>int</u></span><span style="font-size:12pt">,</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     constraint depart_id_fk foreign key (depart_id) references department(id)</span></font></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left" style="font-size: 24px;"><img src="使用JDBC操作多个表_files/Image [2].png" type="image/png" style="cursor: default;"/></div><div align="left" style="font-size: 24px;"><img src="使用JDBC操作多个表_files/Image [3].png" type="image/png" style="cursor: default;"/></div><div align="left" style="font-size: 24px;"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt"><br/></span></font></div><div align="left" style="font-size: 24px;"><img src="使用JDBC操作多个表_files/Image [4].png" type="image/png" style="cursor: default;"/></div><div align="left" style="font-size: 32px;"><font color="#3F7F5F" face="Consolas">二、多对多关系</font></div><div align="left" style="font-size: 32px;"><img src="使用JDBC操作多个表_files/Image [5].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left" style="font-size: 32px;"><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">create table teacher(</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     id</span> <span style="font-size:12pt"><u>int</u></span> <span style="font-size:12pt">primary key,</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     name</span> <span style="font-size:12pt"><u>varchar</u></span><span style="font-size:12pt">(100),</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     salary float(8,2)</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">create table student(</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     id</span> <span style="font-size:12pt"><u>int</u></span> <span style="font-size:12pt">primary key,</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     name</span> <span style="font-size:12pt"><u>varchar</u></span><span style="font-size:12pt">(100),</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     grade</span> <span style="font-size:12pt"><u>varchar</u></span><span style="font-size:12pt">(100)</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">create table teacher_student(</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     t_id</span> <span style="font-size:12pt"><u>int</u></span><span style="font-size:12pt">,</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     s_id</span> <span style="font-size:12pt"><u>int</u></span><span style="font-size:12pt">,</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     primary key(t_id,s_id),</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     constraint t_id_fk foreign key (t_id) references teacher(id),</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">     constraint s_id_fk foreign key (s_id) references student(id)</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt">);</span></font></div><div align="left"><font color="#3F7F5F" face="Consolas"><span style="font-size:12pt"><br/></span></font></div></div><div align="left" style="font-size: 32px;"><img src="使用JDBC操作多个表_files/Image [6].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left" style="font-size: 32px;"><img src="使用JDBC操作多个表_files/Image [7].png" type="image/png" style="cursor: default;"/></div><div align="left" style="font-size: 19px;"><br/></div><div align="left" style="font-size: 32px;"><img src="使用JDBC操作多个表_files/Image [8].png" type="image/png" style="cursor: default;"/></div><div align="left" style="font-size: 32px;"><br/></div><div align="left" style="font-size: 32px;"><br/></div><div align="left" style="font-size: 32px;"><br/></div></div>
</div></body></html> 